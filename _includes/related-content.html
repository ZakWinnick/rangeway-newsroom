{% comment %}
Reusable Related Content Grid Component
{% endcomment %}
<section class="services" style="background: var(--bg-secondary);">
    <div class="container">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2>{{ include.title }}</h2>
        </div>
        <div class="services-grid">
            {% assign counter = 0 %}
            {% assign items = include.collection %}
            {% for item in items reversed %}
                {% assign item_url = item.url %}
                {% if item_url != include.current_url and counter < 3 %}
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-{{ include.icon }}" style="font-size: 2rem;"></i>
                    </div>
                    {% if include.show_date %}
                    <span style="display: block; color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">{{ item.date | date: "%b %d, %Y" }}</span>
                    {% endif %}
                    <h3>{{ item.title }}</h3>
                    {% if item.subtitle %}
                    <p style="color: var(--text-secondary); margin-top: 0.5rem;">{{ item.subtitle }}</p>
                    {% endif %}
                    <p>{{ item.excerpt | strip_html | truncatewords: 30 }}</p>
                    <a href="{{ item.url | relative_url }}" class="card-link">
                        Read more <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                {% assign counter = counter | plus: 1 %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>
